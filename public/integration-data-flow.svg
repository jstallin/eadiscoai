<svg width="1200" height="500" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect x="0" y="0" width="1200" height="500" fill="#ffffff" />

  <!-- Title -->
  <text x="600" y="35" text-anchor="middle" font-family="Arial" font-size="22" font-weight="bold">
    Order-to-Cash Integration &amp; Data Flow - Discrete Manufacturing
  </text>

  <!-- Swimlanes -->
  <rect x="30" y="60" width="1140" height="80" fill="#f9fafb" stroke="#e5e7eb"/>
  <rect x="30" y="160" width="1140" height="80" fill="#ffffff" stroke="#e5e7eb"/>
  <rect x="30" y="260" width="1140" height="80" fill="#f9fafb" stroke="#e5e7eb"/>
  <rect x="30" y="360" width="1140" height="80" fill="#ffffff" stroke="#e5e7eb"/>

  <!-- Swimlane labels -->
  <text x="40" y="50" font-family="Arial" font-size="12" font-weight="bold">Channel &amp; SaaS</text>
  <text x="40" y="150" font-family="Arial" font-size="12" font-weight="bold">Integration</text>
  <text x="40" y="250" font-family="Arial" font-size="12" font-weight="bold">On-prem Core</text>
  <text x="40" y="350" font-family="Arial" font-size="12" font-weight="bold">Analytics &amp; Finance</text>

  <!-- COLOR PALETTE -->
  <!-- SaaS: #d8ede3 / #4e7d6b -->
  <!-- On-prem: #d8e2f0 / #4b6480 -->
  <!-- Custom: #d6e8f2 / #3b6b8c -->
  <!-- Integration: #edf0ff / #7b7fb8 -->
  <!-- Data: #e4e7ec / #7b828c -->

  <!-- CHANNEL & SAAS LANE -->

  <!-- Web Storefront (SaaS) -->
  <rect x="100" y="80" width="180" height="40" rx="10" ry="10" fill="#d8ede3" stroke="#4e7d6b"/>
  <text x="190" y="104" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">
    Web Storefront (SaaS)
  </text>

  <!-- CRM (Sales orders) -->
  <rect x="350" y="80" width="180" height="40" rx="10" ry="10" fill="#d8ede3" stroke="#4e7d6b"/>
  <text x="440" y="104" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">
    CRM (Quote / Order)
  </text>

  <!-- Customer Portal (Custom) -->
  <rect x="600" y="80" width="190" height="40" rx="10" ry="10" fill="#d6e8f2" stroke="#3b6b8c"/>
  <text x="695" y="104" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">
    Customer Portal (Custom)
  </text>

  <!-- iPaaS / ESB in Integration lane -->
  <rect x="260" y="180" width="260" height="40" rx="10" ry="10" fill="#edf0ff" stroke="#7b7fb8"/>
  <text x="390" y="204" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">
    iPaaS / ESB
  </text>
  <text x="390" y="220" text-anchor="middle" font-family="Arial" font-size="10" fill="#555555">
    APIs, routing, transformation, monitoring
  </text>

  <!-- API Gateway in Integration lane -->
  <rect x="580" y="180" width="200" height="40" rx="10" ry="10" fill="#edf0ff" stroke="#7b7fb8"/>
  <text x="680" y="204" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">
    API Gateway
  </text>
  <text x="680" y="220" text-anchor="middle" font-family="Arial" font-size="10" fill="#555555">
    External / partner APIs
  </text>

  <!-- Message Bus (events) -->
  <rect x="820" y="180" width="250" height="40" rx="10" ry="10" fill="#edf0ff" stroke="#7b7fb8" stroke-dasharray="5,4"/>
  <text x="945" y="204" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">
    Event Bus / Streaming Platform
  </text>
  <text x="945" y="220" text-anchor="middle" font-family="Arial" font-size="10" fill="#555555">
    OrderCreated, ShipmentUpdated, InvoicePosted
  </text>

  <!-- ON-PREM CORE LANE -->

  <!-- ERP -->
  <rect x="150" y="280" width="220" height="40" rx="10" ry="10" fill="#d8e2f0" stroke="#4b6480"/>
  <text x="260" y="304" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">
    ERP (Order Mgmt, Billing)
  </text>

  <!-- WMS -->
  <rect x="430" y="280" width="180" height="40" rx="10" ry="10" fill="#d8e2f0" stroke="#4b6480"/>
  <text x="520" y="304" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">
    WMS (Warehouse)
  </text>

  <!-- Custom TMS -->
  <rect x="660" y="280" width="200" height="40" rx="10" ry="10" fill="#d6e8f2" stroke="#3b6b8c"/>
  <text x="760" y="304" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">
    Custom TMS (Transportation)
  </text>

  <!-- Carrier / 3PL (external SaaS) -->
  <rect x="900" y="280" width="200" height="40" rx="10" ry="10" fill="#d8ede3" stroke="#4e7d6b"/>
  <text x="1000" y="304" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">
    Carrier / 3PL Portals (SaaS)
  </text>

  <!-- ANALYTICS & FINANCE LANE -->

  <!-- Cloud DW -->
  <rect x="220" y="380" width="240" height="40" rx="10" ry="10" fill="#e4e7ec" stroke="#7b828c"/>
  <text x="340" y="404" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">
    Cloud Data Warehouse
  </text>

  <!-- BI -->
  <rect x="510" y="380" width="190" height="40" rx="10" ry="10" fill="#d8ede3" stroke="#4e7d6b"/>
  <text x="605" y="404" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">
    BI &amp; Dashboards
  </text>

  <!-- AR / Collections (ERP Finance) -->
  <rect x="770" y="380" width="230" height="40" rx="10" ry="10" fill="#d8e2f0" stroke="#4b6480"/>
  <text x="885" y="404" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">
    ERP Finance (AR / Collections)
  </text>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,3 L0,6 z" fill="#4b5563" />
    </marker>
  </defs>

  <!-- ARROWS - TOP DOWN FOR ORDER FLOW -->

  <!-- Web Storefront -> iPaaS -->
  <line x1="190" y1="120" x2="190" y2="180" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="200" y="155" font-family="Arial" font-size="10" fill="#555555">
    Order via REST API
  </text>

  <!-- CRM -> iPaaS -->
  <line x1="440" y1="120" x2="390" y2="180" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="420" y="155" font-family="Arial" font-size="10" fill="#555555">
    Order event
  </text>

  <!-- Portal -> API Gateway -->
  <line x1="695" y1="120" x2="680" y2="180" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="705" y="155" font-family="Arial" font-size="10" fill="#555555">
    Customer places order
  </text>

  <!-- iPaaS -> ERP -->
  <line x1="390" y1="220" x2="260" y2="280" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="310" y="255" font-family="Arial" font-size="10" fill="#555555">
    Synchronous API / Batch
  </text>

  <!-- ERP -> WMS -->
  <line x1="260" y1="320" x2="430" y2="320" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="345" y="313" font-family="Arial" font-size="10" fill="#555555">
    Outbound order file / API
  </text>

  <!-- ERP -> TMS (dashed) -->
  <line x1="260" y1="320" x2="660" y2="320" stroke="#4b5563" stroke-width="1.5" stroke-dasharray="5,4" marker-end="url(#arrow)"/>
  <text x="470" y="340" font-family="Arial" font-size="10" fill="#555555">
    Planned shipments (batch)
  </text>

  <!-- TMS -> Carrier -->
  <line x1="860" y1="300" x2="900" y2="300" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="880" y="292" font-family="Arial" font-size="10" fill="#555555">
    Tender via API / EDI
  </text>

  <!-- EVENTS TO BUS -->

  <!-- ERP -> Event Bus -->
  <line x1="260" y1="280" x2="945" y2="220" stroke="#4b5563" stroke-width="1.5" stroke-dasharray="5,4" marker-end="url(#arrow)"/>
  <text x="610" y="250" font-family="Arial" font-size="10" fill="#555555">
    OrderCreated, InvoicePosted
  </text>

  <!-- WMS -> Event Bus -->
  <line x1="520" y1="280" x2="945" y2="220" stroke="#4b5563" stroke-width="1.5" stroke-dasharray="5,4" marker-end="url(#arrow)"/>
  <text x="720" y="255" font-family="Arial" font-size="10" fill="#555555">
    ShipmentUpdated
  </text>

  <!-- DATA TO ANALYTICS -->

  <!-- ERP -> DW -->
  <line x1="260" y1="320" x2="340" y2="380" stroke="#4b5563" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="280" y="355" font-family="Arial" font-size="10" fill="#555555">
    Nightly batch / CDC
  </text>

  <!-- TMS -> DW (dashed) -->
  <line x1="760" y1="320" x2="340" y2="380" stroke="#4b5563" stroke-width="1.5" stroke-dasharray="5,4" marker-end="url(#arrow)"/>

  <!-- DW -> BI -->
  <line x1="460" y1="400" x2="510" y2="400" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- DW -> ERP Finance (for reconciliation / derived insights) -->
  <line x1="340" y1="380" x2="885" y2="380" stroke="#4b5563" stroke-width="1.5" stroke-dasharray="5,4" marker-end="url(#arrow)"/>

  <!-- Legend -->
  <rect x="30" y="420" width="350" height="60" fill="#ffffff" stroke="#e5e7eb"/>
  <text x="45" y="440" font-family="Arial" font-size="12" font-weight="bold">Legend</text>

  <rect x="45" y="450" width="18" height="12" fill="#d8ede3" stroke="#4e7d6b"/>
  <text x="70" y="460" font-family="Arial" font-size="10">SaaS app</text>

  <rect x="130" y="450" width="18" height="12" fill="#d8e2f0" stroke="#4b6480"/>
  <text x="155" y="460" font-family="Arial" font-size="10">On-prem / legacy</text>

  <rect x="230" y="450" width="18" height="12" fill="#d6e8f2" stroke="#3b6b8c"/>
  <text x="255" y="460" font-family="Arial" font-size="10">Custom</text>

  <rect x="310" y="450" width="18" height="12" fill="#edf0ff" stroke="#7b7fb8"/>
  <text x="335" y="460" font-family="Arial" font-size="10">Integration / events</text>
</svg>